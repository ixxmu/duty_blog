<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>给 Github 添加 ssh 连接方式并排错 - 生信文集</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=../../../css/style.css><link rel="shortcut icon" href=../../../favicon.ico><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-204903359-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=../../../ title=生信文集 rel=home><div class="logo__item logo__text"><div class=logo__title>生信文集</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=../../../blog/><span class=menu__text>文章</span></a></li><li class=menu__item><a class=menu__link href=../../../tags/><span class=menu__text>标签</span></a></li><li class=menu__item><a class=menu__link href=../../../about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>给 Github 添加 ssh 连接方式并排错</h1></header><div class="content post__content clearfix"><p>Github放弃了账号密码的验证方式，所以需要重新设定链接方式。</p><p>为何要有此一折腾？</p><ol><li>Github 在08月15日彻底丢弃了账号密码验证的登录方式，之前的账号密码验证方式失效;</li><li>因为本身是在Rstudio上建目录，所以用的是普通用户，不是root账户，root账户下按照网上教程没有任何问题,<br>普通用户就是无法成功clone项目，因为必须用普通用户所以得搞定；</li><li>之前不愿意多看几步学习，这不来补课了。</li></ol><blockquote><h5 id=标准添加方式暂时不表可以参看文章后半部分>标准添加方式暂时不表,可以参看文章后半部分</h5></blockquote><h3 id=记录排错过程>记录排错过程</h3><p>按以上流程正常添加SSH之后，但是无法正常克隆项目到本地，使用
ssh -T <a href=mailto:git@github.com>git@github.com</a> 能显示正常连接，但就是无法clone项目本地，
错误信息如下：</p><pre tabindex=0><code class=language-{bash} data-lang={bash}>git clone git@github.com:username/repository.git
</code></pre><blockquote><p>Cloning into &lsquo;xxx&rsquo;&mldr;
Permission denied (publickey).
fatal: Could not read from remote repository.
Please make sure you have the correct access rights
and the repository exists.</p></blockquote><p>提示权限不够，尝试了重新添加SSH key，解决.ssh 相关文件夹或文件权限以及其他网上提供的几乎任何解法，然后搞了快三天，（幸好疫情受困单位不介意封闭在家）</p><p>最后终于在**<a href=https://stackoverflow.com/questions/23766153/git-clone-ssh-permission-denied>这里</a>**发现了问题出现在哪里了；</p><p>仔细看下面的三个链接；</p><blockquote><ol><li>git clone ssh://github.com/username/repository.git # 链接1</li><li>git clone ssh://git@github.com/username/repository.git # 链接2</li><li>git clone <a href=mailto:git@github.com>git@github.com</a>:username/repository.git # 链接3</li></ol></blockquote><p>链接1题主说不能正常使用的链接，提示错误和我的一模一样；然后我就对着拿了链接2试了试，竟然clone成功了；</p><p>我一开始用的链接是链接3形式的命令，且高票答案里的说是正常可用的链接，但是我这里就是通不过，可能以后会发现更好的解法？</p><p>然后用<strong>链接2</strong>形式命令进行操作一切正常了，内心几千万只小马奔腾！！！</p><p>主要问题解决了，还有另外一个问题就是我之前建立的项目如何在本地文件不动的情况下正常更新到Github？</p><p>搜了一番之后就是改HTTPS链接成SSH的形式； 注意后面的链接形式，只有这个才可以；</p><pre tabindex=0><code class=language-{bash} data-lang={bash}>git remote set-url origin ssh://git@github.com/username/repository.git
#可能会用到
git add -A
git commit -m &#34;up_breaking&#34;
git config --global push.default current
git push -u origin main
</code></pre><p>然后就成功了更新到 Github 了，终于搞定，虽然还有未完成的新坑，但是起码 Github 可用了。</p><p>发现Github 的token验证方式也可以用R包实现链接，随后补上！</p><h4 id=以下可能会用到的命令>以下可能会用到的命令</h4><pre tabindex=0><code class=language-{bash} data-lang={bash}># 给普通用户添加sudo权限
usermod -a -G sudo user
# 或者
usermod -a -G wheel user
# 给config文件权限
sudo chmod 600 config
</code></pre><hr><h3 id=github-设置-ssh-链接>Github 设置 SSH 链接</h3><p>登陆到你的用户
设置你的 GitHub，</p><pre tabindex=0><code class=language-{bash} data-lang={bash}>git config --list
git config --global user.name &#34;ixxmu&#34;
git config --global user.email &#34;jjliulangjj@gmail.com&#34;
# 生成 SSH 密钥，
ssh-keygen -t rsa -b 4096 -C &#34;jjliulangjj@gmail.com&#34;
# 添加私钥到你的当前运行环境（添加到此session）
eval &#34;$(ssh-agent -s)&#34;
ssh-add ~/.ssh/id_rsa
# 进入到 .ssh 文件夹，查看刚生成的公钥，
cd .ssh
ls -a
cat id_rsa.pub
cd #回到当前用户根目录
</code></pre><p><strong>复制公钥</strong>后转到 Github 网站上操作，找到你的个人 Settings ， 在 SSH and GPG keys 选项里添加你的SSH key ，</p><p>将你复制的公钥添加在SSH选项里面，title 任意填写即可，如 vps_user1;此时回到你的命令窗口
输入以下命令即可链接你的SSH；</p><pre tabindex=0><code class=language-{bash} data-lang={bash}>ssh -T git@github.com
# ssh -vT git@github.com 
</code></pre><p>出现以下提示信息说明你已经正常链接到Github，下面你就可以正常的操作你的Github项目了.</p><blockquote><p>Hi xxxx! You&rsquo;ve successfully authenticated, but GitHub does not provide shell access.</p></blockquote><p>不出意外的话你可以继续像往常一样操作你的项目了，当然如果不成功，
请1根据窗口内的提示信息解决问题或者 2 往上看排错过程；</p><p>参考链接：</p><ol><li><a href=https://stackoverflow.com/questions/23401652/fatal-the-current-branch-master-has-no-upstream-branch>fatal: The current branch master has no upstream branch</a></li><li><a href=https://www.jianshu.com/p/0406cf5701e8>ssh-key git多账户配置</a></li></ol></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=../../../tags/ssh/ rel=tag>SSH</a></li><li class=tags__item><a class="tags__link btn" href=../../../tags/github/ rel=tag>Github</a></li><li class=tags__item><a class="tags__link btn" href=../../../tags/git/ rel=tag>Git</a></li></ul></div></footer></article></main><section class=comments><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//kkitown.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2022 生信文集.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=../../../js/menu.js></script></body></html>